<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>rainyday.js demo page</title>
        <style media="screen">
            body {
                overflow: hidden;
                height: 100%;
                margin: 0;
                padding: 0;
                background-color: #EEEEEE;
            }
            progress {
                width: 100%;
            }
            .controls {
                position: absolute;
                bottom: 10px;
                right: 10px;
                z-index: 100;
                background-color: #000000;
                padding: 10px;
                color: #FFFFFF;
                font-family: 'Indie Flower', cursive;
            }
            a {
                font-size: 20px;
                color: #FFFFFF;
                margin-right: 10px;
                margin-left: 10px;
            }
            input {
                margin-right: 10px;
                margin-bottom: 10px;
            }
            input[type="range"] {
                width: 100%;
            }
            .mini {
                width: 50px;
                margin: 0px;
            }
            .amini {
                margin: 0;
            }
        </style>
        <script type="text/javascript" src="rainyday.js"></script>
        <script type="text/javascript">
            var Stats=function(){var l=Date.now(),m=l,g=0,n=Infinity,o=0,h=0,p=Infinity,q=0,r=0,s=0,f=document.createElement("div");f.id="stats";f.addEventListener("mousedown",function(b){b.preventDefault();t(++s%2)},!1);f.style.cssText="width:80px;opacity:0.9;cursor:pointer";var a=document.createElement("div");a.id="fps";a.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#002";f.appendChild(a);var i=document.createElement("div");i.id="fpsText";i.style.cssText="color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px";i.innerHTML="FPS";a.appendChild(i);var c=document.createElement("div");c.id="fpsGraph";c.style.cssText="position:relative;width:74px;height:30px;background-color:#0ff";for(a.appendChild(c);74>c.children.length;){var j=document.createElement("span");j.style.cssText="width:1px;height:30px;float:left;background-color:#113";c.appendChild(j)}var d=document.createElement("div");d.id="ms";d.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#020;display:none";f.appendChild(d);var k=document.createElement("div");k.id="msText";k.style.cssText="color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px";k.innerHTML="MS";d.appendChild(k);var e=document.createElement("div");e.id="msGraph";e.style.cssText="position:relative;width:74px;height:30px;background-color:#0f0";for(d.appendChild(e);74>e.children.length;)j=document.createElement("span"),j.style.cssText="width:1px;height:30px;float:left;background-color:#131",e.appendChild(j);var t=function(b){s=b;switch(s){case 0:a.style.display="block";d.style.display="none";break;case 1:a.style.display="none",d.style.display="block"}};return{REVISION:11,domElement:f,setMode:t,begin:function(){l=Date.now()},end:function(){var b=Date.now();g=b-l;n=Math.min(n,g);o=Math.max(o,g);k.textContent=g+" MS ("+n+"-"+o+")";var a=Math.min(30,30-30*(g/200));e.appendChild(e.firstChild).style.height=a+"px";r++;b>m+1E3&&(h=Math.round(1E3*r/(b-m)),p=Math.min(p,h),q=Math.max(q,h),i.textContent=h+" FPS ("+p+"-"+q+")",a=Math.min(30,30-30*(h/100)),c.appendChild(c.firstChild).style.height=a+"px",m=b,r=0);return b},update:function(){l=this.end()}}};
        </script>
        <script>
            var rd;
            var images = [ 
                'http://i.imgur.com/N7ETzFO.jpg', 
                'http://i.imgur.com/U1Tqqdw.jpg', 
                'http://i.imgur.com/OVQkDRE.jpg', 
                'http://i.imgur.com/VuX2Nf0.jpg' 
            ];
            function run(num) {
                var stats = new Stats();
                stats.setMode(0);
                stats.domElement.style.position = 'absolute';
                stats.domElement.style.left = '5px';
                stats.domElement.style.bottom = '5px';
                document.body.appendChild(stats.domElement);

                var image = new Image();
                image.onload = function() {
                    if (rd) {
                        rd.img(this);
                    } else {
                        rd = new RainyDay().cover().img(this).rain(
                            [
                                [3, 3, 0.88], 
                                [5, 5, 0.9], 
                                [6, 2, 1] 
                            ]
                        );
                        rd.stats = stats;
                    }
                };
                image.crossOrigin = 'anonymous';
                image.src = images[num];
            }
        </script>
        <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
        <link href='http://fonts.googleapis.com/css?family=Indie+Flower' rel='stylesheet' type='text/css'>
    </head>
    <body onload="run(0)">
        <div class="controls">
            Demo: RainyDay.js<br/><hr/>
            <a href="#" onclick="rd.start(); return false;" title="Start animation"><i class="fa fa-play"></i></a>
            <a href="#" onclick="rd.pause(); return false;" title="Pause animation"><i class="fa fa-pause"></i></a>
            <a href="#" onclick="rd.stop(); return false;" title="Stop animation"><i class="fa fa-stop"></i></a>
            <a href="#" onclick="rd.rect(30, 30, window.innerWidth / 2, window.innerHeight / 2); return false;" title="Resize to element"><i class="fa fa-compress"></i></a>
            <a href="#" onclick="rd.cover(); return false;" title="Set as background"><i class="fa fa-expand"></i></a>
            <br/><hr/>
            <a class="amini" href="#" onclick="run(0); return false;" title="Image 1"><img src="http://maroslaw.github.io/rainyday.js/img/dm1.jpg" class="mini" /></a>
            <a class="amini" href="#" onclick="run(1); return false;" title="Image 2"><img src="http://maroslaw.github.io/rainyday.js/img/dm2.jpg" class="mini" /></a>
            <a class="amini" href="#" onclick="run(2); return false;" title="Image 3"><img src="http://maroslaw.github.io/rainyday.js/img/dm3.jpg" class="mini" /></a>
            <a class="amini" href="#" onclick="run(3); return false;" title="Image 4"><img src="http://maroslaw.github.io/rainyday.js/img/dm4.jpg" class="mini" /></a>
            <br/><hr/>
            Intensity:<br/><input id="pintensity" type="range" min="0" max="100" value="20" onchange="rd.intensity(this.value);" /><br/>
            Angle:<br/><input id="pangle" type="range" min="0" max="100" value="40" onchange="rd.angle(this.value);" /><br/>
            Speed:<br/><input id="pgravity" type="range" min="0" max="100" value="40" onchange="rd.speed(this.value);" /><br/>
            Reflection size:<br/><input id="preflection" type="range" min="0" max="100" value="20" onchange="rd.reflection(this.value);" /><br/>
            <hr/>
            <input type="checkbox" checked onchange="rd.gravity(this.checked);">gravity</input><br/>
            <input type="checkbox" checked onchange="rd.collisions(this.checked);">collisions</input>
            <br/><hr/>Event queue<br/>
            <progress id="events" value="0" max="100"></progress>
        </div>
    </body>
</html>
